#Auto Transaction
#This component is used to complete an auto transaction
#Your program shall allow the officer to enter all the necessary information
# to complete this task, including, but not limited to. details about the seller, 
#the buyer, the date and the price. 
#This shall also allow for the removal of relevant information of previous ownership

Vehicle = input("Enter the serial_no of the vehicle in the auto transaction: ")
Buyer = input("Enter the sin of the buyer: ")
Second_Buyer = input("Would you like to enter a second Buyer? (y/n) : ")
Seller = input("Enter the sin of the seller: ")
Date = input("Enter the date of the transaction: ")
Price = input("Enter the price the vehicle was sold for ($): ")

#This finds the highest transaction id in our system and increments it by 1
#to create a new valid transaction id for this transaction
Transaction_id = 1 + Query(Select Max(s.transaction_id) From auto_sale s Group By s.transaction_id)

#This inserts our information into the database for the new auto salwe
insert into auto_sale values(Transaction_id, Seller, Buyer, Vehicle, Date, Price)

#METHOD 1
#This removes the previous line in owner where the now seller was written as owning this car
delete from owner where (owner_id != Buyer and vehicle_id = Vehicle)

#This places the buyer into owner as now owning the car
insert into owner values (Buyer, Vehicle, 'Y')
#END 1

#METHOD 2
#This could also work to save space but unsure of implications if multiple owners
#Alters owner rather than removing and adding
update (owner set owner_id = Buyer Where vehicle_id = Vehicle)
#END 2



#CANNOT USE BOTH METHOD 1 AND METHOD 2, MUST PICK !
#ERROR HANDLING?
#POSSIBILITY OF SECOND OWNER/BUYER?
#WITH LAST, POSSIBILITY OF NOT PRIMARY OWNER?
